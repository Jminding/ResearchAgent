
================================================================================
AGENT: LITERATURE-REVIEWER-1
TYPE: literature-reviewer
SPAWNED: 2025-12-23 15:26:18
DESCRIPTION: Merton model and Distance-to-Default
================================================================================

PROMPT:
Survey peer-reviewed literature on Merton's structural model for corporate default prediction, Distance-to-Default (DD) calculation, option-theoretic framework, and extensions (KMV model, CreditGrades). Focus on methodological foundations, parameter estimation, and empirical validity. Extract quantitative results on DD predictive power. Save to files/research_notes/merton_dd.md


================================================================================
AGENT: LITERATURE-REVIEWER-2
TYPE: literature-reviewer
SPAWNED: 2025-12-23 15:26:19
DESCRIPTION: Altman Z-Score and fundamental credit metrics
================================================================================

PROMPT:
Review literature on Altman Z-Score components (working capital, retained earnings, EBIT, market value of equity, sales), their individual and combined predictive power for default, and comparison with other fundamental metrics (leverage ratios, interest coverage, cash flow measures). Document sensitivity and limitations. Save to files/research_notes/altman_fundamentals.md


================================================================================
AGENT: LITERATURE-REVIEWER-3
TYPE: literature-reviewer
SPAWNED: 2025-12-23 15:26:20
DESCRIPTION: Corporate bond default datasets and benchmarks
================================================================================

PROMPT:
Survey publicly available corporate bond default datasets (Moody's, S&P, Bloomberg, BvD, WRDS), their construction, coverage (sectors, time periods), default event definitions, and baseline model performance (Logistic Regression, Random Forest benchmarks). Document dataset limitations and accessibility. Save to files/research_notes/datasets_benchmarks.md


================================================================================
AGENT: LITERATURE-REVIEWER-4
TYPE: literature-reviewer
SPAWNED: 2025-12-23 15:26:21
DESCRIPTION: Black-swan stress testing and no-arbitrage bounds
================================================================================

PROMPT:
Review literature on model failure during crises (2008, 2020), stress testing frameworks, correlation breakdown, and no-arbitrage conditions between equity and bond markets (put-call parity on equity, credit spread bounds). Document how default predictions should satisfy arbitrage-free constraints. Save to files/research_notes/stress_arbitrage.md


================================================================================
AGENT: THEORIST-1
TYPE: theorist
SPAWNED: 2025-12-23 15:32:06
DESCRIPTION: Formalize theory and hypothesis
================================================================================

PROMPT:
Read all 4 literature notes in files/research_notes/. Construct a formal mathematical framework combining Merton's structural model (Distance-to-Default) with Altman fundamentals. Define variables: Merton DD, Altman Z-Score components, equity volatility, leverage ratios, EBIT/TA, working capital ratios. State the classification hypothesis: Random Forest captures non-linearities in combined features better than logistic regression. Design pseudocode for: (1) computing DD via iterative solver, (2) extracting Altman Z components, (3) feature engineering merged dataset, (4) training RF vs Logistic on balanced/imbalanced data, (5) computing Precision-Recall AUC and Brier Score. Include falsifiable hypothesis on crisis period degradation. Save pseudocode to files/theory/


================================================================================
AGENT: DATA-COLLECTOR-1
TYPE: data-collector
SPAWNED: 2025-12-23 15:35:00
DESCRIPTION: Find corporate bond default datasets
================================================================================

PROMPT:
Identify publicly available or affordable corporate bond default datasets (Moody's, S&P, Bloomberg, BvD/Orbis, WRDS, Kaggle). For each dataset: document access method (subscription, academic, free), coverage period, number of firms/defaults, fields available (firm financials, equity data, default dates, ratings), and suitability for testing Merton-Altman hybrid model. If no single dataset covers both equity + bond data, recommend synthetic data generation with realistic correlation structure calibrated to historical default rates (3-5% annual). Document all findings in files/data/dataset_summary.md with download instructions and limitations.


================================================================================
AGENT: EXPERIMENTALIST-1
TYPE: experimentalist
SPAWNED: 2025-12-23 15:40:48
DESCRIPTION: Build and train hybrid credit default model
================================================================================

PROMPT:
Implement full experimental pipeline per files/theory/:

1. **DATA**: Generate synthetic corporate bond dataset (500-1000 firms, 3-5 years, 3-5% annual default rate) calibrated to S&P/Moody's historical rates. Include: asset value, equity volatility, debt, financial ratios (WC/TA, RE/TA, EBIT/TA, MVE/BVD, Sales/TA), market equity, default flags. Document correlation structure and calibration.

2. **FEATURE ENGINEERING**: Compute Distance-to-Default (Newton-Raphson), Altman Z-Score components, interaction terms (DD * EBIT/TA, Z * Leverage). Standardize all features.

3. **MODELS**: Train Random Forest (100 trees, max_depth 10) and Logistic Regression on both balanced (SMOTE) and imbalanced (class_weight='balanced') data. Report hyperparameters and cross-validation scores.

4. **EVALUATION**: Compute PR-AUC (primary), Brier Score, ROC-AUC, precision@recall=0.8, recall@precision=0.8 for each model. Use 5-fold stratified CV. Bootstrap 1000 samples for 95% CI on PR-AUC difference (RF - LR).

5. **CRISIS ANALYSIS**: Segment data into normal and crisis periods (assume crisis = bottom 20% realized volatility). Compare RF/LR degradation (PR-AUC drop). Test H2 hypothesis.

6. **FEATURE IMPORTANCE**: Extract SHAP values (RF) and coefficients (LR). Identify top-5 features driving default prediction. Compare Merton vs Altman feature dominance.

Save all code to files/experiments/, results (metrics, plots, feature rankings) to files/results/, and intermediate data to files/data/. Document all assumptions and limitations.


================================================================================
AGENT: ANALYST-1
TYPE: analyst
SPAWNED: 2025-12-23 15:51:09
DESCRIPTION: Analyze results and arbitrage violations
================================================================================

PROMPT:
Read files/results/credit_risk/ and interpret findings:

1. **HYPOTHESIS TESTING**: Evaluate H1 (RF beats LR by ≥0.05 PR-AUC) and H2 (Merton degrades more in crises). Quantify effect sizes, confidence intervals, statistical significance.

2. **FEATURE ANALYSIS**: Discuss top-5 features (DD*EBIT, EBIT/TA, DD, PD_merton, asset value). Compare Merton dominance (41.5%) vs Altman (29.8%). Explain interaction term importance.

3. **FAILURE MODE ANALYSIS** (critical):
   - Why do models degrade during crises (2008/2020)?
   - Analyze correlation breakdown: Merton features rely on equity volatility (procyclical); Altman fundamentals are backward-looking.
   - Document specific failure scenarios: liquidity crises, rating downspikes, contagion events.
   - Estimate crisis-period accuracy loss (expected 15-25 AUC points per literature).

4. **NO-ARBITRAGE VALIDATION** (key requirement):
   - Test if predicted PD violates equity-bond arbitrage bounds
   - Method: For each firm, compute implied credit spread = -ln(1-PD) / T (simplified)
   - Compare predicted spread vs equity volatility surface (put-call parity constraint)
   - Flag violations: if spread < 50bps or > 2000bps, or if spread/volatility ratio extreme
   - Document % of predictions violating bounds

5. **CALIBRATION & BIAS**: Compute Brier Score decomposition (calibration + discrimination). Test if PD matches realized default frequency by quintile.

6. **MODEL COMPARISON SUMMARY**: Table contrasting RF vs LR on interpretability, robustness, actionability for credit risk management.

Write structured analysis to files/results/ with all quantitative findings, failure mode taxonomy, and arbitrage violation report.



================================================================================
AGENT: REPORT-WRITER-1
TYPE: report-writer
SPAWNED: 2025-12-23 15:58:21
DESCRIPTION: Write formal LaTeX research paper
================================================================================

PROMPT:
Synthesize all research outputs into a publication-ready LaTeX paper. SESSION_ID: session_20251223_152612

Read and integrate:
- files/research_notes/ (4 literature notes: Merton, Altman, datasets, stress/arbitrage)
- files/theory/ (formal framework, hypotheses, pseudocode)
- files/data/ (dataset documentation, synthetic data methodology)
- files/results/ (metrics, feature importance, failure mode analysis, arbitrage validation framework)
- files/experiments/ (code summary, methodology)

**Paper Structure:**
1. ABSTRACT (250 words): Problem, methodology, key findings
2. INTRODUCTION (3 pages): Credit risk prediction challenge, Merton vs Altman debate, research gaps, contribution
3. LITERATURE REVIEW (5 pages): Integrate all 4 literature notes with citations
4. THEORETICAL FRAMEWORK (4 pages): Mathematical formulation, Merton DD, Altman Z-Score, hybrid approach, hypotheses
5. METHODOLOGY (4 pages): Data synthesis, feature engineering (DD computation, interaction terms), model training (RF vs LR), evaluation metrics (PR-AUC, Brier)
6. RESULTS (5 pages): Model performance, feature importance (Merton 41.5% vs Altman 29.8%), hypothesis tests (H1, H2), crisis period analysis
7. FAILURE MODE ANALYSIS (4 pages): Why models fail in crises—liquidity breakdown, correlation spikes, procyclicality of Merton features, contagion effects. Document 15-25 AUC degradation expected during 2008/2020
8. NO-ARBITRAGE VALIDATION (3 pages): Test if predicted PD violates equity-bond bounds (put-call parity, credit spread limits). Report % violations and implications
9. DISCUSSION (4 pages): Practical implications, model selection guidance, regulatory considerations
10. CONCLUSION (2 pages): Summary, future work

**Formatting:**
- 14pt Computer Modern font
- 1.5 spacing
- All figures (PR/ROC curves, feature importance, crisis degradation, arbitrage violations) embedded
- Comprehensive references (~60-80 citations)
- Filename: session_20251223_152612_corporate_bond_defaults_paper.tex

Save to files/reports/


================================================================================
AGENT: LATEX-COMPILER-1
TYPE: latex-compiler
SPAWNED: 2025-12-23 16:08:09
DESCRIPTION: Compile LaTeX to PDF
================================================================================

PROMPT:
Compile the LaTeX manuscript to PDF. SESSION_ID: session_20251223_152612

1. Locate files/reports/session_20251223_152612_corporate_bond_defaults_paper.tex
2. Run pdflatex + bibtex to resolve all citations
3. Handle any compilation errors (missing packages, syntax issues)
4. Generate final PDF in files/reports/session_20251223_152612_corporate_bond_defaults_paper.pdf
5. Verify all cross-references, citations, and page numbers are correct
6. Report success and confirm PDF location

